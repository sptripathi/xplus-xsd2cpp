<html>

  <head>
    <title>Installation</title>
  </head>

  <h2>Installation Instructions <hr NOSHADE SIZE=10 WIDTH=100%> </h2>

  <body>
    <form>
      <ul>
        <li><a href="#TPUSE">Note on third party tools/libraries used</a>
        <li><a href="#PREREQ">Installing the prerequisites</a>
        <li><a href="#BUILD">Building the source</a>
        <li><a href="#UPDATE_ENV">Updating the environment with the installation path</a>
        <li><a href="#VERIFY_INSTALL">Verifying the installation</a>
      </ul>
      
      <a name="TPUSE"><h3>Note on third party tools/libraries used <hr NOSHADE SIZE=7 WIDTH=100%> </h3> </a>
      The thirdparty tools/libraries used are: 
      <ul>
        <li><b>autotools</b> : automake, autoconf, libtool etc.<br>
          The XmlPlus source is built using gnu <b>automake/autoconf/libtool</b> set of tools.<br><br>

        <li><b>xsltproc</b>  : xsl transformation tool <br><br>

        <li><b><a href="http://expat.sourceforge.net/" target="_blank">expat</a></b>     : a xml parser library by <i>James Clark</i> <br><br>

        <li><b><a href="http://pocoproject.org/" target="_blank">POCO C++ Libraries</a></b>      : a minimal customised version of <i>POCO</i><br>
            The custom mini version of <i>POCO</i> is bundled alongwith <i>XmlPlus</i> source package, therefore you do not need to download/install this library separately.
      </ul>



      <a name="PREREQ"><h3>Installing the prerequisites <hr NOSHADE SIZE=7 WIDTH=100%> </h3> </a>
        <ul>
          <li><a href="#PREREQ_UBUNTU">Installing the prerequisites on Ubuntu, Debian and the likes</a>
          <li><a href="#PREREQ_LIKES_OF_REDHAT">Installing the prerequisites on RedHat, Fedora etc.</a>
          <li><a href="#PREREQ_MACOSX">Installing the prerequisites on Mac OS X</a>
        </ul>
      <p>
      The thirdparty packages that would need to be installed as prerequisites are: 
      <ul>
        <li> autotools
        <li> xsltproc 
        <li> expat (library and dev packages) 
      </ul>

      These tools are typically already present on most Linux distributions. If they are not available on your system, you would need to get them before proceeding on installations. Please read the OS specific subsections to find how to install the prerequisites.<br><br>
      <strong>Note:</strong> suggested package names, may sometimes not be correct/exact with respect to your OS release. Please find the exact package name based on your system's OS. For example, to list various available packages names matching a pattern(eg. expat) on Fedora, try following command:<br> 
      <code>$ yum search expat</code>
      </ol>
      </p>

      <br>
      <a name="PREREQ_UBUNTU"><h4>Installing the prerequisites on Ubuntu, Debian and the likes<hr NOSHADE SIZE=3 WIDTH=100%> </h4></a>

      <ol>
        <li> If not already installed, install automake, autoconf, libtool <br>
        <code>$ sudo apt-get install automake autoconf libtool</code>
        <br> <br>
        <li>If not already installed, install xsltproc <br>
        <code>$ sudo apt-get install xsltproc</code>
        <br> <br>
        <li>If not already installed, install expat library and devel packages<br> 
        <code>$ sudo apt-get install libexpat libexpat-dev</code><br>
      </ol>  

      <a name="PREREQ_LIKES_OF_REDHAT"><h4>Installing the prerequisites on Redhat, Fedora etc.  <hr NOSHADE SIZE=3 WIDTH=100%> </h4></a>

      <ol>
        <li> If not already installed, install automake, autoconf, libtool <br>
        <code>$ sudo yum install automake autoconf libtool</code>
        <br> <br>
        <li>If not already installed, install xsltproc<br>
        <code>$ sudo yum install xsltproc</code>
        <br> <br>
        <li>If not already installed, install expat library and devel packages<br>
        <code>$ sudo yum install  expat expat-devel</code><br>
      </ol>

      <a name="PREREQ_MACOSX"><h4>Installing the prerequisites on Mac OS X <hr NOSHADE SIZE=3 WIDTH=100%> </h4></a>

      <ol>
        <li> If not already installed, install automake, autoconf, libtool
        <br>
        <code>$ sudo port install automake autoconf libtool</code><br>
        <br>
        <strong>Note:</strong> on Mac OS X, there is a binary named <b>libtool</b>, which is different from what we need.
        On Mac OS X, we need <b>glibtool</b>, which is exactly what the port install of libtool would bring.
        <br> <br>
        <li>If not already installed, install xsltproc<br>
        <code>$ sudo port install xsltproc</code>
        <br> <br>
        <li>If not already installed, install expat library and devel packages<br>
        <code>$ sudo port install expat expat-devel</code><br>
      </ol>

      <br><br>

    <a name="BUILD"><h3>Building the source <hr NOSHADE SIZE=7 WIDTH=100%> </h3></a>
      Once you are done with installation of prerequisites on your system, go through following steps:
      <ol>
        <li> if you want the build to be installed in /usr/local/ path <br>
        <code>$ ./configure </code><br>
        The configure script generates Makefile.<br>

        <br>
        Alternatively, if you want the build to be installed in user defined path <br>
        <code>$ ./configure --prefix=/path/of/installation </code><br>
        For example:<br>
        <code>$ ./configure --prefix=$HOME/xplusbuild </code><br>

        <br>
        <li>$ make &amp;&amp; make install <br>
        This will build and install the build in the sepecified installation path.
      </ol>

      If the <code>configure</code> script didn't work for some reason(typically because of version mismatch of <code>autotools</code>), run <code>autogen.sh</code>, followed by <code>"make &amp;&amp; make install"</code>. Later, in general, you don't have to run <code>configure</code> again. (unless for example, you want to change the installation path).
      <br>

      <br><br>
      <a name="UPDATE_ENV"><h3>Updating the environment with the installation path <hr NOSHADE SIZE=7 WIDTH=100%> </h3></a>

      Register the installation path with the system environment.<br>
      <code>
        $ export PATH=$PATH:/path/of/installation/bin <br>  
        $ export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/path/of/installation/lib
      </code>

      <br><br>
      For example:<br>
      <code>
        $ export PATH=$PATH:$HOME/xplusbuild/bin <br>  
        $ export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$HOME/xplusbuild/lib
      </code>

      <br><br>  
      <strong>Note:</strong>On Mac OS X, however, you would need to export DYLD_LIBRARY_PATH instead of LD_LIBRARY_PATH.<br>
      <code>
        $ export DYLD_LIBRARY_PATH=$DYLD_LIBRARY_PATH:/path/of/installation/lib <br>  
      </code>

      <br><br>
      <a name="VERIFY_INSTALL"><h3>Verifying the installation <hr NOSHADE SIZE=7 WIDTH=100%> </h3></a>
      <p>
      Once you have installed the <b>XmlPlus</b> tool, the libraries and the binaries must be in LD_LIBRARY_PATH and PATH respectively.
      Assuming that you have installed the build in the path <i>$HOME/xplusbuild/</i>, let us peek into the installation. 
      </p>
      <br>

      Some directories inside installation path:<br>
      <code>
        [~/xplusbuild] $ ls -1<br>
        bin<br>
        include<br>
        lib<br>
      </code>

      <br>
      Some of the installed binaries:<br>
      <code>
        [~/xplusbuild] $ ls -1 bin/<br>
        domParser<br>
        xsd2cpp<br>
      </code>

      <br>
      Some of the installed headers:<br>
      <code>
        [~/xplusbuild] $ ls -1 include/<br>
        DOM<br>
        Poco<br>
        XPlus<br>
        XSD<br>
      </code>

      <br>
      Some of the installed shared libraries:<br>
      <code>
        [~/xplusbuild] $ ls -1 lib/ | grep "so$" <br>
        libdom.so<br>
        libpoco.so<br>
        libxplus.so<br>
        libxsdall.so<br>
        libxsd.so<br>
      </code>

      <br>
      The static libraries:<br>
      <code>
        [~/xplusbuild] $ ls -1 lib/ | grep "\.a$" <br>
        libdom.a <br>
        libpoco.a <br>
        libxplus.a <br>
        libxsd.a <br>
        libxsdall.a <br>
      </code>

      <br><br>
      Now, try accessing the xsd2cpp tool: <br>
      <hr NOSHADE SIZE=1 WIDTH=50% align=left><pre>
  $ xsd2cpp 
  Usage:

  1.  xsd2cpp xsd-file [outdir]
        outdir: directory to output the generated source to
        (if unspecified, defaults to xsd-file-name)

  2.  xsd2cpp -v
        prints verion

  3.  xsd2cpp -h
        prints help</pre>
      <hr NOSHADE SIZE=1 WIDTH=50% align=left>

      <br>
      If you reached here fine, then you have finished the installation part.
      If faced problems, send us an email mentioning the details of installation problems.
      (see <a href="support.html#UPDATE_ENV">Report Bugs</a>)

    </form>
  </body>

</html>
